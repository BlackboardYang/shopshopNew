/* empty css               *//* empty css            *//* empty css             *//* empty css              */import{_ as B,e as g,A as V,o as w,c as S,f as r,a as s,w as o,u as i,g as $,E as D,i as N,B as G,C as L,D as j,F as M,b as E,G as T,k as b,l as P,p as Z,m as H,z as p,q as J,s as K,t as O,v as Q,h as W,y as X}from"./index-8f1a75b5.js";import{p as C}from"./user-f978bbeb.js";const c=u=>(Z("data-v-c2f3974f"),u=u(),H(),u),Y={class:"custom-container"},ee={class:"main-contents"},ae=c(()=>r("div",{style:{"text-align":"center"}},[r("h1",{style:{"font-weight":"bolder"}},"Sign Up")],-1)),se={style:{"font-size":"x-small"}},oe=c(()=>r("span",{style:{"font-size":"x-small"}},"Get verify code",-1)),te=c(()=>r("i",null,[r("span",{style:{"font-size":"x-small"}},"I agree to the terms and conditions")],-1)),le=c(()=>r("div",{style:{"margin-top":"0"}},[r("span",{style:{"font-size":"x-small",color:"floralwhite"}}," Already have an Account?")],-1)),re={style:{"margin-top":"30px"}},ne={__name:"RegisterPage",setup(u){const a=g({username:"",password:"",confirm_password:"",email:"",code:"",agree:!1}),k={username:[{required:!0},{validator:(n,e,l)=>{e===""?l(new Error("Please enter a username")):/^[\u4E00-\u9FA5\u3040-\u309F\u30A0-\u30FFa-zA-Z0-9]+$/.test(e)?l():l(new Error("A username cannot contain special characters"))},trigger:["blur","change"]},{min:3,max:16,message:"Length should be 3 to 16",trigger:["blur","change"]}],password:[{required:!0},{min:6,max:16,message:"Length should be 6 to 16",trigger:["blur","change"]}],confirm_password:[{required:!0,message:"Please enter password again to confirm the password"},{validator:(n,e,l)=>{e===""?l(new Error("Please enter password again")):e!==a.password?l(new Error("Please ensure it is same as password")):l()},trigger:"blur"}],email:[{required:!0,message:"Please enter an email address"},{type:"email",message:"Please enter a correct email address",trigger:"blur"}],code:[{required:!0,message:"Please enter the verify code"}]},v=V(),y=V(!1),I=(n,e)=>{n==="email"&&(y.value=e)},U=()=>{v.value.validate(n=>{n?a.agree?C("/api/auth/register",{username:a.username,password:a.password,email:a.email,code:a.code},e=>{p.success(e),P.push("../welcome/login")}):p.warning("Please agree to the terms and conditions."):p.warning("Please enter all required information.")})},f=g({value:60}),_=g({value:!1}),R=()=>{C("/api/auth/valid-register-email",{email:a.email},n=>{p.success(n),x()})},x=()=>{_.value=!0;const n=setInterval(()=>{f.value>0?f.value--:(_.value=!1,clearInterval(n))},1e3)};return(n,e)=>{const l=J,d=K,m=$,h=O,q=Q,z=W,A=D,F=X;return w(),S("div",Y,[r("div",ee,[ae,s(A,{"label-position":"top","label-width":"100px",style:{"max-width":"500px"},model:a,rules:k,onValidate:I,ref_key:"formRef",ref:v},{default:o(()=>[s(d,{label:"Username",prop:"username"},{default:o(()=>[s(l,{modelValue:a.username,"onUpdate:modelValue":e[0]||(e[0]=t=>a.username=t),placeholder:"Enter your username","prefix-icon":i(N)},null,8,["modelValue","prefix-icon"])]),_:1}),s(d,{label:"Password",prop:"password"},{default:o(()=>[s(l,{modelValue:a.password,"onUpdate:modelValue":e[1]||(e[1]=t=>a.password=t),placeholder:"Enter your password",type:"password","prefix-icon":i(G)},null,8,["modelValue","prefix-icon"])]),_:1}),s(d,{label:"Confirm Password",prop:"confirm_password"},{default:o(()=>[s(l,{modelValue:a.confirm_password,"onUpdate:modelValue":e[2]||(e[2]=t=>a.confirm_password=t),placeholder:"Confirm your password",type:"password","prefix-icon":i(L)},null,8,["modelValue","prefix-icon"])]),_:1}),s(d,{label:"Email",prop:"email"},{default:o(()=>[s(l,{modelValue:a.email,"onUpdate:modelValue":e[3]||(e[3]=t=>a.email=t),placeholder:"Enter your email","prefix-icon":i(j)},null,8,["modelValue","prefix-icon"])]),_:1}),s(d,{label:"Verify Code",prop:"code"},{default:o(()=>[s(l,{modelValue:a.code,"onUpdate:modelValue":e[5]||(e[5]=t=>a.code=t),placeholder:"Code","prefix-icon":i(M),maxlength:6},{append:o(()=>[_.value?(w(),E(m,{key:0},{default:o(()=>[r("span",se,"Resend at "+T(f.value)+" seconds",1)]),_:1})):(w(),E(m,{key:1,onClick:e[4]||(e[4]=t=>(R(),x())),disabled:!y.value},{default:o(()=>[oe]),_:1},8,["disabled"]))]),_:1},8,["modelValue","prefix-icon"])]),_:1}),r("div",null,[s(z,{justify:"space-between"},{default:o(()=>[s(h,{span:"12"},{default:o(()=>[s(m,{type:"primary",onClick:e[6]||(e[6]=t=>U()),size:"default",color:"#626aef"},{default:o(()=>[b(" Register ")]),_:1})]),_:1}),s(h,{span:"12"},{default:o(()=>[s(q,{modelValue:a.agree,"onUpdate:modelValue":e[7]||(e[7]=t=>a.agree=t),prop:"agree"},{default:o(()=>[te]),_:1},8,["modelValue"])]),_:1})]),_:1})])]),_:1},8,["model"]),s(F,{style:{"margin-bottom":"10px"}}),le,r("div",re,[s(m,{onClick:e[8]||(e[8]=t=>i(P).push("../welcome/login")),color:"#6495ed"},{default:o(()=>[b("Sign In")]),_:1})])])])}}},ge=B(ne,[["__scopeId","data-v-c2f3974f"]]);export{ge as default};
